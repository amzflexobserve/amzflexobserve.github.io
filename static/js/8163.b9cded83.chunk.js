"use strict";(self.webpackChunkgrabber_hrm=self.webpackChunkgrabber_hrm||[]).push([[8163],{6349:function(e,t,n){var r=n(9760),a=n(2647),i=n(2350),l=n(184),s=(0,a.LA)();t.Z=function(e){var t=e.init,n=e.label,a=e.updDate,o=function(e){a(e.initDate+800)};return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"label",children:n||"Fecha"}),(0,l.jsx)("div",{className:"date2Upd",onClick:function(){var e={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,l.jsx)(s,{onConfirm:o,init:t}),(0,r.OpenModal)(e)},children:t?(0,i.sG)(t):(0,i.sG)((new Date).getTime())})]})}},8163:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(4165),a=n(1413),i=n(5861),l=n(9439),s=n(2791),o=n(9760),c=n(2647),d=n(2350),u=n(6349),h=n(6963),f=n(4e3),v=n(1479);function p(e,t,n,r){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)((0,r.Z)().mark((function e(t,n,a,i){var l,s,o,c,u,p,m,b,_,g,x,y,N,j,w,I,O,Z;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=(0,d._I)(n),(0,d._2)(t).map((function(e){l[e]&&t[e]?l[e].text=t[e]:delete l[e]})),s=1,o=null,e.next=6,h.PDFDocument.create();case 6:return(o=e.sent).registerFontkit(f.Z),e.next=10,(0,v.h2)(o);case 10:return c=e.sent,u=c,e.next=14,fetch((0,d.bh)("shield_cub.png")).then((function(e){return e.arrayBuffer()}));case 14:return p=e.sent,e.next=17,o.embedPng(p);case 17:return m=e.sent,e.next=20,fetch((0,d.bh)("cuban_stamp.png")).then((function(e){return e.arrayBuffer()}));case 20:return b=e.sent,e.next=23,o.embedPng(b);case 23:if(_=e.sent,g=null,s?g=o.addPage():(x=o.getPages(),g=x[0]),y=g.getSize(),N=y.width,j=y.height,m&&g.drawImage(m,{x:84,y:j-86,width:46,height:50}),_&&g.drawImage(_,{x:461,y:j-106,width:120,height:68}),i&&l&&(0,d._2)(l).map((function(e){var t=l[e];if(t){t.pageNo;var n,r=null===(n=g)||void 0===n?void 0:n.getSize(),a=g;if("textArray"===t.type){var i=0;t.component.map((function(e,n){var l=(0,d.fY)(t.text[n]).trim(),s=e.color||[2,2,2],o=e.font&&u[e.font]||c.gSans,f=e.size||10,v=o.widthOfTextAtSize(l+"",f),p=i;0===n&&(p=e.x,i=e.x),i=i+v+2,null===a||void 0===a||a.drawText(l,{x:p,y:r.height-e.y,size:f,font:o,color:s?(0,h.rgb)(s[0]/255,s[1]/255,s[2]/255):(0,h.rgb)(0,0,0)})}))}if("text"===t.type){var s=t.color||[2,2,2];null===a||void 0===a||a.drawText(t.text?t.text.toString():"",{x:t.x,y:r.height-t.y,size:t.size||10,font:t.font&&u[t.font]||c.gSans,color:s?(0,h.rgb)(s[0]/255,s[1]/255,s[2]/255):(0,h.rgb)(0,0,0)})}else if("checkBox"===t.type){var o=(null===r||void 0===r?void 0:r.height)-t.y;null===a||void 0===a||a.moveTo(t.x+2,o),null===a||void 0===a||a.drawSvgPath("M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",{borderColor:t.color?(0,h.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,h.rgb)(0,0,0),borderWidth:1,scale:.5})}else if("line"===t.type){var f=t.color||[25,25,25];null===a||void 0===a||a.drawRectangle({x:t.x,y:r.height-t.y,width:t.width,height:t.height,color:f?(0,h.rgb)(f[0]/255,f[1]/255,f[2]/255):(0,h.rgb)(0,0,0)})}else if("multi_line"===t.type){for(var v=t.text?t.text.toString():"",p=t.lineHeight||10,m=(0,h.layoutMultilineText)(v,{alignment:"left",font:t.font&&u[t.font]||c.gSans,fontSize:t.size||9,lineHeight:p,bounds:{width:N-20,height:500}}),b=r.height-t.y,_=0;_<m.lines.length;_++)a.drawText("".concat(m.lines[_].text),{x:t.x,y:b,size:t.size||9,maxWidth:N-20,font:t.font&&u[t.font]||c.gSans,color:t.color?(0,h.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,h.rgb)(0,0,0)}),b-=p;return b}}})),!t.todayDate){e.next=40;break}if(!(w=(0,d.bh)("b64_signature"))){e.next=40;break}return e.next=35,fetch(w).then((function(e){return e.arrayBuffer()}));case 35:return I=e.sent,e.next=38,o.embedPng(I);case 38:(O=e.sent)&&g.drawImage(O,{x:60,y:j-780,width:60,height:30});case 40:if(o.setTitle("Criminal Records Transcript"),o.setAuthor("Stephanie Solution Group"),o.setCreator("Stephanie Solution Group"),o.setCreationDate(new Date),o.setModificationDate(new Date),!a){e.next=52;break}return e.next=48,o.save();case 48:return Z=e.sent,e.abrupt("return",(0,v.ou)(Z));case 52:return e.abrupt("return",o.saveAsBase64({dataUri:!0}));case 53:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=n(5232),_=n(4327),g=n(184),x=(0,c.Np)(),y=(0,c.PU)(),N=((0,c.Rw)(),(0,_.XN)()),j=(0,c.YZ)(),w=(0,c.tW)(),I=function(e){var t,n,c,h,f=e.data,v="criminal_records",m=["cuba_cid","registrationId","dor"],_=(0,s.useState)(!1),I=(0,l.Z)(_,2),C=I[0],S=I[1],D=(0,s.useState)(1),R=(0,l.Z)(D,2)[1],T=(0,s.useState)(!1),z=(0,l.Z)(T,2),F=z[0],E=z[1],K=(0,s.useState)("ES"),P=(0,l.Z)(K,2),U=P[0],B=P[1],M=function(){R((0,d.M5)())};(0,s.useEffect)((function(){var e;if(!C)return S(!0),null!==(e=(0,d.bh)("print_structure"))&&void 0!==e&&e.criminal_records_struct_print||(0,b.pw)(M),R((0,d.M5)()),function(){}}));var A=function(e,t){var n=(0,d.bh)(v)||{};n[e]=t,(0,d.Rz)(v,n),R((0,d.M5)())},H=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i,l,s,o,c,u,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,d.bh)(v),n={},t.caseId?(s=(0,d.vy)(m,(0,d.bh)(v),(0,d.bh)(v+"_bck")),(n=(0,a.Z)({},null===(i=(0,d.bh)((0,d.hQ)()))||void 0===i?void 0:i.upd_notry_case)).params={customerId:null===(l=(0,d.bh)((0,d.Ks)()))||void 0===l?void 0:l.clientNotaryId,caseId:t.caseId},n.data2update=s.data):(t.date?t.date=new Date(t.date).getTime():t.date=(new Date).getTime()+800,t.customerId=(0,d.bh)((0,d.Ks)()).clientNotaryId,t.documentType="CRT",t.caseId=(0,d.M5)(),(n=(0,a.Z)({},null===(o=(0,d.bh)((0,d.hQ)()))||void 0===o?void 0:o.add_notry_case)).params={customerId:null===(c=(0,d.bh)((0,d.Ks)()))||void 0===c?void 0:c.clientNotaryId},n.form=t),u=(0,d.I7)(n),e.next=6,u;case 6:(h=e.sent)&&!h.error&&(R((0,d.M5)()),q());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i,l,s,o,c,u,h,f,m,b,_,g,x,y,N,j,w,I,O,Z,C,S,D,R,T,z,F,K,P,B;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),c=(0,a.Z)({},(0,d.bh)((0,d.Ks)())),u=(0,a.Z)({},(0,d.bh)(v)),h=null===(t=(0,d.bh)("print_structure"))||void 0===t?void 0:t.lbls_criminal_records_template,f=(0,d._I)(h),m=null===(n=(0,d.bh)("print_structure"))||void 0===n?void 0:n.new_criminal_records_struct_print,b=(0,d._I)(m),(_=Object.assign({},u,f[U])).ss=(0,d.fY)(null===c||void 0===c?void 0:c.ss),g=_.lbl_fistName,_.lbl_fistName=[g,(0,d.fY)(null===c||void 0===c?void 0:c.firstName)],x=_.lbl_lastName,_.lbl_lastName=[x,(0,d.fY)(null===c||void 0===c?void 0:c.lastName)],y=_.lbl_placeOfBirth,N=(0,d.fY)(null===c||void 0===c||null===(i=c.placeOfBirth)||void 0===i?void 0:i.city)+","+(0,d.fY)(null===c||void 0===c||null===(l=c.placeOfBirth)||void 0===l?void 0:l.state),_.lbl_placeOfBirth=[y,N],c.dateOfBirth&&(j=k(c.dateOfBirth),"EN"===U&&(j=(0,d.sG)(c.dateOfBirth)),w=_.lbl_dateOfBirth,_.lbl_dateOfBirth=[w,j]),I=_.lbl_fatherName,_.lbl_fatherName=[I],null!==c&&void 0!==c&&null!==(s=c.fatherInfo)&&void 0!==s&&s.firstName&&(Z=(0,d.fY)(null===c||void 0===c||null===(O=c.fatherInfo)||void 0===O?void 0:O.firstName),_.lbl_fatherName=[I,Z]),C=_.lbl_motherName,_.lbl_motherName=[C],null!==c&&void 0!==c&&null!==(o=c.motherInfo)&&void 0!==o&&o.firstName&&(D=(0,d.fY)(null===c||void 0===c||null===(S=c.motherInfo)||void 0===S?void 0:S.firstName),_.lbl_motherName=[C,D]),R=null===c||void 0===c?void 0:c.genre,"ES"===U&&(R="Male"===(null===c||void 0===c?void 0:c.genre)?"Masculino":"Femenino"),T=_.lbl_genre,_.lbl_genre=[T,R],z=_.lbl_race,_.lbl_race=[z,(0,d.fY)(null===c||void 0===c?void 0:c.race)],F=_.lbl_citinzenship,_.lbl_citinzenship=[F,"Cuban"],_.lbl_observations=["NO RECORD FOUND"],K=_.lbl_cid,_.lbl_cid=[K,(0,d.fY)(null===_||void 0===_?void 0:_.cuba_cid)],_.dor&&(P=_.lbl_observations_2,_.lbl_observations_2=[P,(0,d.sG)(_.dor)]),"EN"===U?(_.lbl_interpreter=["I","Hector Felix Ricardo,","certify that I am fluent in the ","English","and","Spanish","languages, and that the above document is an accurate translation word by "],_.lbl_interpreter2=["word of the document attached entitled","\u201cCertificaci\xf3n de Antecedentes Penales."],_.lbl_interpreter3=["Signature:","__________________________","Date:","_______________","      ","4307 Estate Dr, Louisville, KY 40216; 502-389-2075"],_.todayDate=(0,d.sJ)((new Date).getTime())):(delete b.lbl_interpreter,delete b.lbl_interpreter2,delete b.lbl_interpreter3,delete b.todayDate),e.next=38,p(_,b,!0,!0);case 38:B=e.sent,window.open(B),E(!1);case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){(null===f||void 0===f?void 0:f.modalID)&&(0,o.CloseModal)({id:null===f||void 0===f?void 0:f.modalID})},L=(0,d.vy)(m,(0,d.bh)(v),(0,d.bh)(v+"_bck")),G=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,l,s,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=null===(n=(0,d.bh)((0,d.Ks)()))||void 0===n?void 0:n.clientNotaryId,(s=(0,a.Z)({},null===(i=(0,d.bh)((0,d.hQ)()))||void 0===i?void 0:i.upd_notary)).params={clientNotaryId:l},s.data2update=t,o=(0,d.I7)(s),e.next=7,o;case 7:(c=e.sent)&&!c.error&&(0,b.uB)(l,M);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,b.Rh)(t,n,(function(e){(0,b.F2)(e,t,(function(){return G({imageUrlCRT:n})}))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Em)(t,n);case 2:a=e.sent,window.open(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W="pdf"===(0,d.Z0)((0,d.bh)((0,d.Ks)()).imageUrlCRT)?"pdf_box":"image_outline";return(0,g.jsxs)("div",{style:{maxHeight:"80vh",width:"820px",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,g.jsxs)("div",{className:"_dsplFlx card",children:[(0,g.jsx)("p",{className:"form_title",children:"Traducion de Certificacion de Nacimiento"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsxs)("div",{className:"_dsplFlx ",style:{margin:"19px 20px 0 0"},children:[(0,g.jsx)("span",{className:"checklabel",style:{marginRight:9},children:"ES"}),(0,g.jsx)(j,{initvalue:"EN"===U,keyCode:37,updChange:function(e){B(e?"EN":"ES")},color:"var(--primary)"}),(0,g.jsx)("span",{className:"checklabel",children:"EN"})]})]}),(0,g.jsxs)("div",{className:"_dsplFlx ",children:[(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("div",{className:"card",children:(0,g.jsxs)("div",{className:"_dsplFlx ",children:[(0,g.jsx)(O,{label:"Upload file",onChange:function(e){var t=e.target.files[0],n=new FileReader,r=(0,d.M5)()+"_"+t.name;J(t,r),n.addEventListener("load",(function(){(0,d.Rz)("preview_src",n.result)}),!1),t&&n.readAsDataURL(t)}}),(0,d.bh)((0,d.Ks)()).imageUrlCRT?(0,g.jsx)("div",{className:"icon_image ",onClick:function(){var e=(0,d.LH)((0,d.bh)((0,d.Ks)()).imageUrlCRT);(0,b.Qq)((0,d.bh)((0,d.Ks)()).clientNotaryId,(0,d.bh)((0,d.Ks)()).imageUrlCRT,(function(t){return Q(t,e)}))},children:(0,g.jsx)(y,{name:W,color:"var(--partial-success)"})}):null,(0,d.CO)((0,d.bh)((0,d.Ks)()).imageUrlCRT)?(0,g.jsx)("div",{style:{marginLeft:12},children:(0,g.jsx)(Z,{label:"Fill from Image",clickHandler:function(){(0,b.Qq)((0,d.bh)((0,d.Ks)()).clientNotaryId,(0,d.bh)((0,d.Ks)()).imageUrlCRT,(function(e){(0,d.Rz)("generated_form_btc_loaded",null),(0,d.Rz)("loading_image_text",!0),(0,d.Rz)("image_text",null);var t={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};t.content=(0,g.jsx)(N,{confirm:function(){},image:e,item:{image:e,fileName:(0,d.bh)((0,d.Ks)()).imageUrlCRT}}),(0,o.OpenModal)(t)}))}})}):null]})}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("div",{className:"card",children:F?(0,g.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,g.jsx)("div",{className:"lbl_saving ",children:"generating report ..."}),(0,g.jsx)(w,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,g.jsx)(Z,{label:"Imprimir",clickHandler:Y})}),(0,g.jsx)("div",{className:"flexSpace"})]}),(0,g.jsx)("p",{className:"group_title",children:"Datos del Registro"}),(0,g.jsxs)("div",{className:"_dsplFlx spaceAround",children:[(0,g.jsx)(x,{init:null===(t=(0,d.bh)(v))||void 0===t?void 0:t.registrationId,label:"Numero de registro",width:240,updChanges:function(e){return A("registrationId",e)}}),(0,g.jsx)(x,{init:null===(n=(0,d.bh)(v))||void 0===n?void 0:n.cuba_cid,label:"Carne de Identidad",width:190,updChanges:function(e){return A("cuba_cid",e)}}),(0,g.jsx)(u.Z,{init:null===(c=(0,d.bh)(v))||void 0===c?void 0:c.dor,label:"Fecha de solicitud",updDate:function(e){return A("dor",e)}})]}),(0,g.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:null!==L&&void 0!==L&&L.hasChange?(0,g.jsxs)("div",{className:"_dsplFlx ",children:[(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("div",{className:"card",children:(0,g.jsx)(Z,{label:null!==(h=(0,d.bh)(v))&&void 0!==h&&h.caseId?"Actualizar":"Agregar",clickHandler:H})})]}):(0,g.jsx)("div",{className:"card"})})]})},O=function(e){var t=e.onChange,n=e.label;return(0,g.jsx)("div",{className:" jaqJnq_hrm1",children:(0,g.jsxs)("div",{className:"gHAsFI_hrm1 dqnOfN jUrKkb upl",children:[(0,g.jsx)("span",{className:" jaqJnq_hrm1",children:n}),(0,g.jsx)("input",{id:"fileupload",type:"file",onChange:t})]})})},Z=function(e){var t=e.clickHandler,n=e.label;return(0,g.jsx)("div",{className:" jaqJnq_hrm1",children:(0,g.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:t,children:(0,g.jsx)("span",{className:" jaqJnq_hrm1",children:n})})})},k=function(e){var t=new Date(e);return" ".concat(t.getDate()," de ").concat(d.f2.es[t.getMonth()]," del ").concat(t.getFullYear())}},1413:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=8163.b9cded83.chunk.js.map
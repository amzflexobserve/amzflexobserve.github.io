"use strict";(self.webpackChunkgrabber_hrm=self.webpackChunkgrabber_hrm||[]).push([[647],{9118:function(e,t,n){n.r(t);var i=n(9439),o=n(5671),r=n(3144),a=n(7326),s=n(136),u=n(9388),h=n(2791),d=n(324),c=n(8419),l=n(7812),p=n(184),m={step:0,hour:"00",minute:"00",autoMode:!0,clearFocus:Function.prototype,handleHourChange:Function.prototype,handleMinuteChange:Function.prototype},g=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i;(0,o.Z)(this,n);var r=(i=t.call(this,e)).resetHourDegree(),s=e.step;return i.state={step:s,pointerRotate:r},i.handleStepChange=i.handleStepChange.bind((0,a.Z)(i)),i.handleTimeChange=i.handleTimeChange.bind((0,a.Z)(i)),i.handleTimePointerClick=i.handleTimePointerClick.bind((0,a.Z)(i)),i}return(0,r.Z)(n,[{key:"handleStepChange",value:function(e){var t=this;this.state.step!==e&&(this.pickerPointerContainer&&this.pickerPointerContainer.addAnimation(),setTimeout((function(){t.pickerPointerContainer&&t.pickerPointerContainer.removeAnimation(),t.setStep(e)}),300))}},{key:"setStep",value:function(e){var t=0===e?this.resetHourDegree():this.resetMinuteDegree();this.setState({step:e,pointerRotate:t})}},{key:"clearFocus",value:function(){var e=this.props,t=e.autoClose,n=e.clearFocus;t&&n&&n()}},{key:"handleTimePointerClick",value:function(e){var t,n=e.time,i=e.autoMode,o=void 0===i?null:i,r=e.pointerRotate,a=void 0===r?null:r;Number.isInteger?Number.isInteger(a)&&this.setState({pointerRotate:a}):(0^(t=a))===+t&&this.setState({pointerRotate:a}),this.handleTimeChange(n,o)}},{key:"handleTimeChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=parseInt(e,10),i=this.state.step,o=null===t?this.props.autoMode:t,r=this.props,a=r.handleHourChange,s=r.handleMinuteChange;0===i?a&&a(n):s&&s(n),o&&(0===i?this.handleStepChange(1):(this.clearFocus(),this.setStep(0)))}},{key:"resetHourDegree",value:function(){var e=parseInt(this.props.hour,10),t=0;return d.gd.forEach((function(n,i){e===i+1&&(t=i<12?360*(i+1)/12:360*(i+1-12)/12)})),t}},{key:"resetMinuteDegree",value:function(){var e=parseInt(this.props.minute,10),t=0;return d.DZ.forEach((function(n,i){e===i&&(t=360*i/60)})),t}},{key:"getTopAndHeight",value:function(){var e=this.state.step,t=this.props,n=t.hour,i=t.minute,o=0===e?n:i,r=0===e?12:60,a=0===e?d.On:d.YN,s=o<r?a-d.df:d.YN-d.df;return[o<r?d.yp-a+d.df:d.yp-d.YN+d.df,s]}},{key:"render",value:function(){var e=this,t=this.props,n=t.hour,o=t.minute,r=t.timeMode,a=t.draggable,s=t.limitDrag,u=t.minuteStep,m=this.state,g=m.step,v=m.pointerRotate,f=0===g?"time_picker_header active":"time_picker_header",M=1===g?"time_picker_header active":"time_picker_header",C=this.getTopAndHeight(),k=(0,i.Z)(C,2),y={top:k[0],height:k[1],pointerRotate:v},P=0===g?"hour":"minute",R=(0,l.Z)(P);return(0,p.jsxs)(h.Fragment,{children:[(0,p.jsxs)("div",{className:"time_picker_modal_header",children:[(0,p.jsx)("span",{className:f,onClick:function(){return e.handleStepChange(0)},children:n}),(0,p.jsx)("span",{className:"time_picker_header_delivery",children:":"}),(0,p.jsx)("span",{className:M,onClick:function(){return e.handleStepChange(1)},children:o})]}),(0,p.jsxs)("div",{className:"picker_container",children:[(0,p.jsx)(R,{ref:function(t){return e.pickerPointerContainer=t},handleTimePointerClick:this.handleTimePointerClick,pointerRotate:v}),(0,p.jsx)(c.Z,{step:g,timeMode:r,limitDrag:s,minuteStep:u,draggable:a,rotateState:y,time:0===g?parseInt(n,10):parseInt(o,10),minLength:0===g?d.On:d.YN,handleTimePointerClick:this.handleTimePointerClick})]})]})}}]),n}(h.PureComponent);g.defaultProps=m,t.default=g},8419:function(e,t,n){var i=n(5671),o=n(3144),r=n(7326),a=n(136),s=n(9388),u=n(2791),h=n(324),d=n(9161),c=n(184),l={time:0,step:0,pointerRotate:0,rotateState:{top:0,height:0,pointerRotate:0},minLength:h.On,maxLength:h.YN,minuteStep:5,limitDrag:!1,handleTimePointerClick:Function.prototype},p=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).startX=0,o.startY=0,o.originX=null,o.originY=null,o.dragCenterX=null,o.dragCenterY=null,o.offsetDragCenterX=0,o.offsetDragCenterY=0,o.state=o.initialRotationAndLength(),o.handleMouseDown=o.handleMouseDown.bind((0,r.Z)(o)),o.handleMouseMove=o.handleMouseMove.bind((0,r.Z)(o)),o.handleMouseUp=o.handleMouseUp.bind((0,r.Z)(o)),o.resetOrigin=o.resetOrigin.bind((0,r.Z)(o)),o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.resetOrigin(),window.addEventListener?window.addEventListener("resize",this.resetOrigin,!0):window.addEventListener("onresize",this.resetOrigin),document.addEventListener?(document.addEventListener("scroll",this.resetOrigin,!0),document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0),document.addEventListener("touchmove",this.handleMouseMove,!0),document.addEventListener("touchend",this.handleMouseUp,!0)):(document.addEventListener("onscroll",this.resetOrigin),document.attachEvent("onmousemove",this.handleMouseMove),document.attachEvent("onmouseup",this.handleMouseUp),document.attachEvent("ontouchmove",this.handleMouseMove),document.attachEvent("ontouchend",this.handleMouseUp))}},{key:"componentWillUnmount",value:function(){window.addEventListener?window.removeEventListener("resize",this.resetOrigin,!0):window.detachEvent("onresize",this.resetOrigin),document.removeEventListener?(document.removeEventListener("scroll",this.resetOrigin,!0),document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0)):(document.detachEvent("onscroll",this.resetOrigin),document.detachEvent("onmousemove",this.handleMouseMove),document.detachEvent("onmouseup",this.handleMouseUp),document.detachEvent("ontouchmove",this.handleMouseMove),document.detachEvent("ontouchend",this.handleMouseUp))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.step,i=t.time,o=t.rotateState,r=this.state.draging,a=e.step,s=e.time,u=e.rotateState;n===a&&i===s&&o.pointerRotate===u.pointerRotate||r||this.resetState()}},{key:"initialRotationAndLength",value:function(){var e=this.props.rotateState,t=e.top,n=e.height,i=e.pointerRotate;return this.initialHeight=n,{top:t,height:n,pointerRotate:i,draging:!1}}},{key:"resetState",value:function(){this.setState(this.initialRotationAndLength())}},{key:"resetOrigin",value:function(){var e=this.pickerCenter,t=e.getBoundingClientRect();this.originX=t.left+e.clientWidth/2+Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)+h.df,this.originY=t.top+e.clientHeight/2+Math.max(document.documentElement.scrollTop,document.body.scrollTop)+h.df,this.resetDragCenter()}},{key:"resetDragCenter",value:function(){this.offsetDragCenterX=0,this.offsetDragCenterY=0;var e=this.dragCenter,t=e.getBoundingClientRect();this.dragCenterX=t.left+e.clientWidth/2+Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),this.dragCenterY=t.top+e.clientHeight/2+Math.max(document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getRadian",value:function(e,t){var n=Math.atan2(t-this.originY,e-this.originX);return(n-=Math.atan2(this.startY-this.originY,this.startX-this.originX))>Math.PI?n-=2*Math.PI:n<-Math.PI&&(n+=2*Math.PI),n+=d.Z.degree2Radian(this.props.rotateState.pointerRotate)}},{key:"getAbsolutePosition",value:function(e,t){return Math.sqrt(Math.pow(e-this.originX,2)+Math.pow(t-this.originY,2))}},{key:"getPointerRotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dragX,n=e.dragY,i=this.props,o=i.step,r=i.limitDrag,a=i.minuteStep,s=this.getRadian(t,n),u=s*(360/(2*Math.PI));if(r){var h=s*(360/(2*Math.PI)),d=0===o?12:60/a;u=Math.round(h/(360/d))*(360/d)}return u}},{key:"handleTimePointerChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dragX,n=e.dragY,i=e.autoMode,o=void 0===i?null:i,r=e.pointerRotate,a=void 0===r?null:r,s=this.props,u=s.step,h=s.timeMode,c=s.minLength,l=s.maxLength,p=s.minuteStep,m=s.handleTimePointerClick,g=this.getRadian(t,n)*(360/(2*Math.PI)),v=0===u,f=v?12:60/p,M=Math.round(g/(360/f)),C=this.getAbsolutePosition(t,n);for(c<(C=d.Z.validatePosition(C,c,l))&&C<l&&(C=C-c>(l-c)/2?l:c);M>f;)M-=f;var k=C===c?M:M+f;v?(C===c&&k<0?k+=12:C!==c&&k<12&&(k=k-12+24),12===(k=24===k?12:k)&&12===Number(h)&&(k=0)):k=(k=k*p===60?0:k*p)<0?60+k:k,m&&m({time:k,autoMode:o,pointerRotate:a})}},{key:"handleMouseDown",value:function(e){if(!this.state.draging){var t=e||window.event;t.preventDefault(),t.stopPropagation();var n=d.Z.mousePosition(t);this.startX=n.x,this.startY=n.y,this.resetDragCenter(),this.offsetDragCenterX=this.dragCenterX-this.startX,this.offsetDragCenterY=this.dragCenterY-this.startY,this.setState({draging:!0})}}},{key:"handleMouseMove",value:function(e){if(this.state.draging){var t=this.props,n=t.minLength,i=t.maxLength,o=d.Z.mousePosition(e),r=o.x+this.offsetDragCenterX,a=o.y+this.offsetDragCenterY;if(this.originX!==r&&this.originY!==a){var s=this.getPointerRotate({dragX:r,dragY:a}),u=this.getAbsolutePosition(r,a),c=d.Z.validatePosition(u,n-h.df,i-h.df),l=h.yp-c;this.setState({top:l,height:c,pointerRotate:s}),this.handleTimePointerChange({dragX:r,dragY:a,autoMode:!1})}}}},{key:"handleMouseUp",value:function(e){if(this.state.draging){this.setState({draging:!1});var t=d.Z.mousePosition(e),n=t.x+this.offsetDragCenterX,i=t.y+this.offsetDragCenterY,o=this.getPointerRotate({dragX:n,dragY:i}),r=o%30;o=30*(Math.floor(o/30)+(r>=15?1:0)),this.setState({pointerRotate:o}),this.handleTimePointerChange({dragX:n,dragY:i,pointerRotate:o})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.time,i=t.draggable,o=this.state,r=o.draging,a=o.height,s=o.top,u=o.pointerRotate,h=r?"picker_pointer":"picker_pointer animation";return(0,c.jsxs)("div",{className:"picker_handler",children:[(0,c.jsx)("div",{className:h,style:d.Z.initialPointerStyle(a,s,u),children:(0,c.jsx)("div",{ref:function(t){return e.dragCenter=t},className:"pointer_drag ".concat(i?"draggable":""),style:d.Z.rotateStyle(-u),onMouseDown:i?this.handleMouseDown:Function.prototype,onTouchStart:i?this.handleMouseDown:Function.prototype,children:n})}),(0,c.jsx)("div",{className:"picker_center",ref:function(t){return e.pickerCenter=t}})]})}}]),n}(u.PureComponent);p.defaultProps=l,t.Z=p},7812:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(5671),o=n(3144),r=n(136),a=n(9388),s=n(2791),u=n(324),h=n(9161),d=n(184),c={index:0,angle:0,onClick:Function.prototype,pointClass:"picker_point point_outter"},l=function(e){var t=e.index,n=e.angle,i=e.onClick,o=e.pointClass,r=e.pointerRotate,a=h.Z.inlineRotateStyle(n),s=h.Z.rotateStyle(-n);return(0,d.jsx)("div",{style:a,className:o,onClick:function(){var e=n-r%360;e>=180?e-=360:e<-180&&(e+=360),i&&i({time:t,pointerRotate:e+r})},onMouseDown:h.Z.disableMouseDown,children:(0,d.jsx)("div",{className:"point_wrapper",style:s,children:t})})};l.defaultProps=c;var p=l,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hour",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;return function(n){(0,r.Z)(h,n);var s=(0,a.Z)(h);function h(){return(0,i.Z)(this,h),s.apply(this,arguments)}return(0,o.Z)(h,[{key:"addAnimation",value:function(){this.pickerPointerContainer.className="animation"}},{key:"removeAnimation",value:function(){this.pickerPointerContainer.className=""}},{key:"renderMinutePointes",value:function(){var e=this;return u.DZ.map((function(t,n){var i=360*n/60;return n%5===0?(0,d.jsx)(p,{angle:i,index:n,pointerRotate:e.props.pointerRotate,onClick:e.props.handleTimePointerClick},n):null}))}},{key:"renderHourPointes",value:function(){var e=this;return(24===parseInt(t,10)?u.gd:u.iP).map((function(t,n){var i=n<12?"picker_point point_inner":"picker_point point_outter",o=n<12?360*n/12:360*(n-12)/12;return(0,d.jsx)(p,{angle:o,index:n,pointClass:i,pointerRotate:e.props.pointerRotate,onClick:e.props.handleTimePointerClick},n)}))}},{key:"render",value:function(){var t=this;return(0,d.jsx)("div",{ref:function(e){return t.pickerPointerContainer=e},className:"picker_pointer_container",children:"hour"===e?this.renderHourPointes():this.renderMinutePointes()})}}]),h}(s.PureComponent)}},324:function(e,t,n){n.d(t,{DZ:function(){return a},On:function(){return h},Rc:function(){return c},YN:function(){return u},df:function(){return d},gd:function(){return o},iP:function(){return r},yp:function(){return s}});var i=function(e){return new Array(e).join("0").split("")},o=i(25),r=i(13),a=i(61),s=130,u=125,h=90,d=17.5,c=["","O","Moz","Ms","ms","Webkit"]},9161:function(e,t,n){var i=n(324),o=function(e,t){return i.Rc.reduce((function(n,i){return n[i?"".concat(i).concat(e[0].toUpperCase()).concat(e.slice(1)):e]=t,n}),{})};t.Z={degree2Radian:function(e){return e*(2*Math.PI)/360},mousePosition:function(e){var t=e||window.event,n={x:document.documentElement.scrollLeft||document.body.scrollLeft||0,y:document.documentElement.scrollTop||document.body.scrollTop||0};return{x:t.pageX?t.pageX:t.clientX+n.x-document.body.clientLeft?t.clientX+n.x-document.body.clientLeft:t.touches[0]?t.touches[0].clientX:t.changedTouches[0].clientX,y:t.pageY?t.pageY:t.clientY+n.y-document.body.clientTop?t.clientY+n.y-document.body.clientTop:t.touches[0]?t.touches[0].clientY:t.changedTouches[0].clientY}},disableMouseDown:function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation()},rotateStyle:function(e){return o("transform","rotate(".concat(e,"deg)"))},inlineRotateStyle:function(e){return o("transform","translateX(-50%) rotate(".concat(e,"deg)"))},initialPointerStyle:function(e,t,n){return Object.assign({height:"".concat(e,"px"),top:"".concat(t,"px")},o("transform","translateX(-50%) rotate(".concat(n,"deg)")))},validatePosition:function(e,t,n){var i=e;return i<t&&(i=t),i>n&&(i=n),i}}}}]);
//# sourceMappingURL=647.0f5a74a1.chunk.js.map
"use strict";(self.webpackChunkgrabber_hrm=self.webpackChunkgrabber_hrm||[]).push([[811],{2254:function(e,l,s){s.r(l),s.d(l,{sortCust:function(){return C}});var i=s(4165),a=s(1413),n=s(5861),r=s(4942),o=s(9439),c=s(2791),d=(s(4629),s(2647)),t=s(7689),v=s(1087),h=s(2735),u=s(5945),m=s(5408),x=s(9752),p=s(8457),j=s(7727),b=s(9760),f=(s(899),s(2908),s(3569)),k=s(3505),_=s(7677),g=s(184),N=(0,d.YZ)(),y=(0,d.A5)(),A=(0,d.PU)(),w=(0,d.tW)();l.default=function(e){e.data,e.confirm,e.label,e.item;var l,s,d,C,T,z,S=(0,c.useState)(1),Z=(0,o.Z)(S,2)[1],I=(0,c.useState)(1),W=(0,o.Z)(I,2),L=W[0],M=W[1],D=(0,m.Z)("firebaseObs");console.log(D);var V=null===(l=(0,t.TH)().search)||void 0===l||null===(s=l.split("?"))||void 0===s?void 0:s[1],R=(0,h.mB)(V),O=!0,E=(0,h.bh)("user2Show")||(null===R||void 0===R?void 0:R.cId)||(null===(d=(0,h.bh)((0,h.nc)()))||void 0===d?void 0:d.grabberId);(0,c.useEffect)((function(){var e;(0,h.wt)("firebaseObs"),E&&(0,u.hW)(E),null!==(e=(0,h.bh)((0,h.nc)()))&&void 0!==e&&e.isAdmin&&!(0,h.bh)("usersGbList")&&(0,u.Y2)(),setTimeout((function(){Z((0,h.M5)())}),450)}),[E]);var H=function(e,l){q((0,r.Z)({},e,l)),Z((0,h.M5)())},G=function(e){},K=null===(C=(0,h.bh)("grabberAcc"))||void 0===C?void 0:C[E],q=function(e){(0,u.K1)(E,e),Z((0,h.M5)())},Y=null!==K&&void 0!==K&&K.filters?(0,h._2)(K.filters).sort():[],P=function(){var e=["dom","lun","mar","mie","jue","vie","sab"],l=[];return(0,h._2)(null===K||void 0===K?void 0:K.schedule).map((function(s){var i;null!==K&&void 0!==K&&null!==(i=K.schedule[s])&&void 0!==i&&i.active&&l.push(e[s])})),{activesDays:l.join(", "),hasAlert:l.length<7}},Q=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(){var l,s,n,r,o,c,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(2),(s=(0,a.Z)({},null===(l=(0,h.bh)((0,h.hQ)()))||void 0===l?void 0:l.scan_grb_flx)).params={flexId:E,":search0":"success"},n=(0,h.I7)(s),e.next=6,n;case 6:(r=e.sent)&&!r.error&&(o={},c=(0,h.Ei)(),(0,h._2)(r).map((function(e){var l=r[e];10===l.startTime.toString().length&&(l.startTime=1e3*l.startTime,l.endTime=1e3*l.endTime);var s=(0,h.qt)(l.startTime),i=s.stWk+"_"+s.endWk;o[i]||(o[i]={blocks:{},total:0}),o[i].blocks[l.startTime]||(o[i].blocks[l.startTime]={}),o[i].blocks[l.startTime]=l,"9"!==l.isRejected&&l.endTime<c&&(o[i].total+=1*l.pay)})),(0,h.Rz)("blockWkList",o),d=(0,h.bh)("blockWkList")?(0,h._2)(o).sort().reverse():[],(0,h.Rz)("blockWkSorted",d),Z((0,h.M5)()));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){(0,u.K1)(E,{running:!0,allowGrabbing:!0,puzzleNeedBeSolved:!1})};return null!==K&&void 0!==K&&K.email?(0,g.jsxs)("div",{style:{width:"100%"},children:[(0,g.jsxs)("div",{className:"ebEwoI",children:[(0,g.jsx)("div",{className:"jKZvHt ",children:(0,g.jsx)(v.OL,{className:"",to:"/",children:(0,g.jsx)("div",{className:" header_mobile ",children:(0,g.jsx)(A,{name:"arrowBack",color:"#AAABC5",size:28})})})}),(0,g.jsx)("div",{className:"_dsplFlx ",children:(0,g.jsx)("div",{className:"_dsplFlx centerBx",children:(0,g.jsx)(y,{init:(0,h.bh)("user2Show"),lbl_empty:"Users",list:(0,h.bh)("usersGbList")||[],onSelect:function(e){return l=e.id,(0,h.Rz)("user2Show",l),(0,h.Rz)("blockWkList",null),void(1===L?Z((0,h.M5)()):M(1));var l},background:"var(--dark-900)",color:"var(--light-200)",direction:"right",width:"290px"})})})]}),(0,g.jsx)("div",{className:"card_wrpp",style:{marginTop:90},children:(0,g.jsx)(x.he,{title:(0,g.jsx)("div",{className:"lh-default darkcyan_green",style:{marginBottom:20},children:(0,g.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",children:(0,g.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,g.jsx)(A,{name:"profile",color:"#03AA8E",size:20}),"AdminDash"]})})}),description:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"_dsplFlx information_detail ",children:[(0,g.jsx)("div",{children:(0,g.jsx)(A,{name:"key",color:"#AAABC5",size:20})}),(0,g.jsx)("span",{className:"checklabel",children:E}),(0,g.jsx)("div",{className:"flexSpace"})]}),(0,g.jsxs)("div",{className:"_dsplFlx information_detail ",children:[(0,g.jsx)("div",{children:(0,g.jsx)(A,{name:"email",color:"#AAABC5",size:20})}),(0,g.jsx)("span",{className:"checklabel",children:null===K||void 0===K?void 0:K.email}),(0,g.jsx)("div",{className:"flexSpace"})]}),(0,g.jsxs)("div",{className:"_dsplFlx information_detail ",children:[(0,g.jsx)("div",{children:(0,g.jsx)("div",{style:{width:"20px"},children:(0,g.jsxs)("svg",{"aria-label":"currently running",width:"100%",height:"100%",fill:"none",viewBox:"0 0 16 16",className:"anim-rotate",xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("path",{stroke:"#DBAB0A",strokeWidth:"2",d:"M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z",opacity:".5"}),(0,g.jsx)("path",{fill:"#DBAB0A",fillRule:"evenodd",d:"M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",clipRule:"evenodd"}),(0,g.jsx)("path",{fill:"#DBAB0A",d:"M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"})]})})}),(0,g.jsx)("span",{className:"checklabel",children:"Is in Roulette"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)(N,{initvalue:!(null===K||void 0===K||!K.turtleMode),keyCode:89,updChange:function(e){return H("turtleMode",e)},color:"var(--primary-blue--backg-30)"})]}),(0,g.jsxs)("div",{className:"_dsplFlx information_detail ",children:[(0,g.jsx)("div",{children:(0,g.jsx)(A,{name:"incognito",color:"#AAABC5",size:20})}),(0,g.jsx)("span",{className:"checklabel",children:"Observer"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)(N,{initvalue:!(null===K||void 0===K||!K.onlyObserver),keyCode:89,updChange:function(e){return H("onlyObserver",e)},color:"var(--primary-blue--backg-30)"})]}),(0,g.jsxs)("div",{className:"_dsplFlx information_detail ",children:[(0,g.jsx)("div",{children:(0,g.jsx)(A,{name:"lock-outline",color:"#AAABC5",size:20})}),(0,g.jsx)("span",{className:"checklabel",children:"On Hold"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)(N,{initvalue:!(null===K||void 0===K||!K.onHold),keyCode:89,updChange:function(e){return H("onHold",e)},color:"var(--primary-blue--backg-30)"})]}),(0,g.jsxs)("div",{className:"_dsplFlx information_detail ",children:[(0,g.jsx)("div",{children:(0,g.jsx)(A,{name:"open_package_file_outline",color:"#AAABC5",size:20})}),(0,g.jsx)("span",{className:"checklabel",children:"Availables Blocks"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)(N,{initvalue:!(null===K||void 0===K||!K.showAvailablesBlocks),keyCode:89,updChange:function(e){return H("showAvailablesBlocks",e)},color:"var(--primary-blue--backg-30)"})]}),(0,g.jsxs)("div",{className:"_dsplFlx centerBx information_detail hrm_themecolor yellow bisque",children:[(0,g.jsx)(A,{name:"android_phone",color:"#AAABC5",size:20}),(0,g.jsx)("span",{className:"checklabel",children:"Device"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("div",{className:"deviceSpot centerBx",children:(0,g.jsx)("span",{children:null===K||void 0===K?void 0:K.deviceId})})]}),(0,g.jsx)("div",{className:"lh-default hrm_themecolor darkcyan_green",style:{marginTop:20},children:(0,g.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:function(){var e={zIndex:480,props:{minHeight:"1vh",overlay:!0}};e.content=(0,g.jsx)(f.Z,{confirm:U,cId:E}),(0,b.OpenModal)(e)},children:(0,g.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,g.jsx)(A,{name:"open_package_file_outline",color:"var(--lighten-color)",size:20}),"Add Block"]})})})]})})}),(0,g.jsx)("div",{className:"card_wrpp",style:{marginTop:30},children:(0,g.jsx)(x.he,{title:(0,g.jsx)("div",{className:"_dsplFlx  ",children:(0,g.jsx)("div",{className:"lh-default hrm_themecolor ".concat(null!==K&&void 0!==K&&K.isValidToken?"limegreen":"darkred peachpuff indianred"),style:{marginBottom:20},children:(0,g.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:function(){(0,u.K1)(E,{isValidToken:!(null!==K&&void 0!==K&&K.isValidToken)})},children:(0,g.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,g.jsx)(A,{name:null!==K&&void 0!==K&&K.isValidToken?"thumb_up_ntflx":"info",color:"var(--lighten-color)",size:20}),null!==K&&void 0!==K&&K.isValidToken?"Todo funcionando bien":"Hubo un error contactenos"]})})})}),description:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"_dsplFlx information_detail ",style:{minWidth:320}}),(0,g.jsxs)("div",{className:"_dsplFlx information_detail ".concat(null!==K&&void 0!==K&&K.puzzleNeedBeSolved?"indianred hrm_themecolor ":"","  "),children:[(0,g.jsx)("div",{children:(0,g.jsx)("div",{style:{width:"20px"},children:(0,g.jsxs)("svg",{"aria-label":"currently running",width:"100%",height:"100%",fill:"none",viewBox:"0 0 16 16",className:null!==K&&void 0!==K&&K.running?"anim-rotate":"",xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("path",{stroke:null!==K&&void 0!==K&&K.puzzleNeedBeSolved?"var(--lighten-color)":null!==K&&void 0!==K&&K.isValidToken?"#60EF40":"#F9D0C4",strokeWidth:"2",d:"M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z",opacity:".5"}),(0,g.jsx)("path",{fill:null!==K&&void 0!==K&&K.puzzleNeedBeSolved?"var(--lighten-color)":null!==K&&void 0!==K&&K.isValidToken?"#60EF40":"#F9D0C4",fillRule:"evenodd",d:"M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",clipRule:"evenodd"}),(0,g.jsx)("path",{fill:null!==K&&void 0!==K&&K.puzzleNeedBeSolved?"var(--lighten-color)":null!==K&&void 0!==K&&K.isValidToken?"#60EF40":"#F9D0C4",d:"M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"})]})})}),(0,g.jsx)("span",{className:"checklabel",children:"Activo"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)(N,{initvalue:!(null===K||void 0===K||!K.running),keyCode:89,updChange:function(e){return H("running",e)},color:"var(--primary-blue--backg-30)"})]}),(0,g.jsxs)("div",{className:"_dsplFlx information_detail ",style:{margin:"13px 0"},children:[(0,g.jsx)("div",{children:(0,g.jsx)(A,{name:"open_package_file_outline",color:"#AAABC5",size:20})}),(0,g.jsx)("span",{className:"checklabel",children:"Aceptar Bloques"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)(N,{initvalue:!(null===K||void 0===K||!K.allowGrabbing),keyCode:89,updChange:function(e){return H("allowGrabbing",e)},color:"var(--primary-blue--backg-30)"})]}),(0,g.jsxs)("div",{className:"_dsplFlx information_detail ",style:{margin:"13px 0"},onClick:function(e,l){var s=null!==K&&void 0!==K&&K.schedule?(0,h._2)(K.schedule).sort():[],i={zIndex:480,props:{minHeight:"1vh",overlay:!0}};i.content=(0,g.jsx)(j.Z,{confirm:G,sortedSch:s,schedule:null===K||void 0===K?void 0:K.schedule,updFb:q}),(0,b.OpenModal)(i)},children:[(0,g.jsx)("div",{children:(0,g.jsx)(A,{name:"calendar",color:"#AAABC5",size:20})}),(0,g.jsx)("span",{className:"checklabel",children:"Horarios"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("span",{className:"checklabel",children:null===(T=P())||void 0===T?void 0:T.activesDays}),null!==(z=P())&&void 0!==z&&z.hasAlert?(0,g.jsx)("div",{style:{marginLeft:7},children:(0,g.jsx)(A,{name:"alert",color:"#DBAB0A",size:20})}):null]})]})})}),(0,g.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",style:{padding:9},children:[(0,g.jsx)("div",{className:"lh-default blue_30",style:{margin:"20px 0"},children:(0,g.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:function(){return M(1)},children:(0,g.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,g.jsx)(A,{name:"market",color:"#30BEFF",size:20}),"Estaciones"]})})}),(0,g.jsx)("div",{className:"lh-default hrm_themecolor darkcyan_green",style:{marginTop:20},children:(0,g.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:Q,children:(0,g.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,g.jsx)(A,{name:"open_package_file_outline",color:"var(--lighten-color)",size:20}),"Bloques"]})})})]}),(0,g.jsx)("div",{className:"_dsplFlx spaceAround flxWrp",style:{padding:9},children:null!==K&&void 0!==K&&K.showAvailablesBlocks?(0,g.jsx)("div",{className:"lh-default hrm_themecolor yellow",style:{marginTop:2},children:(0,g.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:function(){M(3),setTimeout((0,n.Z)((0,i.Z)().mark((function e(){var l,s,n,r,o,c,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=(0,a.Z)({},null===(l=(0,h.bh)((0,h.hQ)()))||void 0===l?void 0:l.grb_ava_tmSt_flx)).params={date:F(),":search0":"available"},n=(0,h.I7)(s),e.next=5,n;case 5:(r=e.sent)&&!r.error&&((0,h.Rz)("availableBlocksList",r),o=(0,h._2)(r).sort().reverse(),c={},d={},o.map((function(e){var l=e.split("_"),s=1*l[3]/l[4]*1,i=new Date(1e3*l[0]),a=(0,h.kj)(i);c[a]||(c[a]=[]),c[a].push(e),d[a]||(d[a]=[]),s>18&&d[a].push(e)})),(0,h.Rz)("availableBlocksPriceIncrease",d),(0,h.Rz)("availableBlocksGroupsSorted",c),Z((0,h.M5)()));case 7:case"end":return e.stop()}}),e)}))),320)},children:(0,g.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,g.jsx)(A,{name:"open_package_file_outline",color:"var(--lighten-color)",size:20}),"Bloques Disponibles"]})})}):null}),(0,g.jsx)(B,{viewId:1,activeView:L,children:Y&&Y.map((function(e){var l,s;return(0,g.jsx)(p.Z,{adminTools:O,icon:"market",data:null===(l=K.filters)||void 0===l?void 0:l[e],advanceFilters:null===(s=K.advanceFilters)||void 0===s?void 0:s[e],sA:e,updSArea:function(l){return function(e,l){var s=null===K||void 0===K?void 0:K.filters;s[l]=Object.assign({},s[l],e),(0,u.K1)(E,{filters:s})}(l,e)},updAdvFlt:function(l){return function(e,l){var s=(null===K||void 0===K?void 0:K.advanceFilters)||{};s[l]=Object.assign({},s[l],e),(0,u.Fv)(E,"advanceFilters"),(0,u.K1)(E,{advanceFilters:s})}(l,e)}},e)}))}),(0,g.jsx)(B,{viewId:2,activeView:L,children:(0,h.bh)("blockWkList")&&(0,h.bh)("blockWkSorted").map((function(e){var l,s,i,a,n=1*e.split("_")[0],r=1*e.split("_")[1],o=null===(l=(0,h.bh)("blockWkList"))||void 0===l||null===(s=l[e])||void 0===s?void 0:s.blocks;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("div",{className:"lh-default ",children:(0,h.sG)(n)+" - "+(0,h.sG)(r)}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsxs)("div",{className:" payments hrm_themecolor darkcyan_green centerBx",children:[(0,g.jsx)(A,{name:"money",size:22,color:"var(--lighten-color)"}),(0,g.jsxs)("span",{className:"total_week",children:["$",(null===(i=(0,h.bh)("blockWkList"))||void 0===i||null===(a=i[e])||void 0===a?void 0:a.total).toFixed(2)]})]}),(0,g.jsx)("div",{className:"flexSpace"})]}),(0,g.jsx)(_.Z,{refresh:Q,adminTools:O,cId:E,blocks:o,wK:e})]},e)}))}),(0,g.jsx)(B,{viewId:3,activeView:L,children:(0,g.jsx)(k.Z,{adminTools:O,cId:E})}),(0,g.jsx)("div",{className:"_dsplFlx ",style:{padding:9,marginBottom:149}})]}):(0,g.jsx)("div",{className:"loading_app centerBx",children:(0,g.jsx)(w,{stroke:"var(--primary-blue--backg-30)",size:94,strokeW:3})})};var B=function(e){var l=e.viewId,s=e.activeView,i=e.children;return(0,g.jsx)("div",{className:"opacityView",style:{opacity:l===s?1:0,marginTop:29},children:l===s?i:null})};function F(e){var l=e||new Date,s=l.getMonth()+1,i=l.getDate();return"".concat(l.getFullYear(),"_").concat(s>9?s:"0"+s,"_").concat(i>9?i:"0"+i)}var C=function(e,l){return e&&e.sort((function(e,s){var i=l(e),a=l(s);return i<a?1:i>a?-1:0}))}}}]);
//# sourceMappingURL=811.84e96925.chunk.js.map
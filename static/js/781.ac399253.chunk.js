"use strict";(self.webpackChunkgrabber_hrm=self.webpackChunkgrabber_hrm||[]).push([[781],{8106:function(e,l,a){a.r(l),a.d(l,{sortCust:function(){return M}});var i=a(4165),s=a(1413),n=a(5861),o=a(4942),r=a(9439),d=a(2791),c=(a(4629),a(2647)),t=a(7689),v=a(1087),u=a(2735),m=a(5945),h=a(5408),x=a(9752),p=a(8457),j=a(8575),b=a(9760),f=(a(899),a(2908)),_=(a(3569),a(3505)),g=a(7677),k=a(184),N=(0,c.YZ)(),y=(0,c.A5)(),S=(0,c.PU)(),z=(0,c.tW)();l.default=function(e){e.data,e.confirm,e.label,e.item;var l,a,c,M,B,C,A,T,Z,I,L,W,R,V,E=(0,d.useState)(1),D=(0,r.Z)(E,2)[1],G=(0,d.useState)(1),K=(0,r.Z)(G,2),O=K[0],H=K[1],U=(0,h.Z)("firebaseObs"),q=(0,d.useState)(!1),P=(0,r.Z)(q,2),Y=P[0],Q=P[1];console.log(U);var $=null===(l=(0,t.TH)().search)||void 0===l||null===(a=l.split("?"))||void 0===a?void 0:a[1],J=(0,u.mB)($),X=(null===(c=(0,u.bh)((0,u.nc)()))||void 0===c?void 0:c.isAdmin)&&Y,ee=X&&(0,u.bh)("user2Show")||(null===J||void 0===J?void 0:J.cId)||(null===(M=(0,u.bh)((0,u.nc)()))||void 0===M?void 0:M.grabberId);(0,d.useEffect)((function(){var e;(0,u.wt)("firebaseObs"),ee&&(0,m.hW)(ee),null!==(e=(0,u.bh)((0,u.nc)()))&&void 0!==e&&e.isAdmin&&!(0,u.bh)("usersGbList")&&(0,m.Y2)(),setTimeout((function(){D((0,u.M5)())}),450)}),[ee]);var le=function(e,l){se((0,o.Z)({},e,l)),D((0,u.M5)())},ae=function(e){},ie=null===(B=(0,u.bh)("grabberAcc"))||void 0===B?void 0:B[ee],se=function(e){(0,m.K1)(ee,e),D((0,u.M5)())},ne=null!==ie&&void 0!==ie&&ie.filters?(0,u._2)(ie.filters).sort():[],oe=function(){var e=["dom","lun","mar","mie","jue","vie","sab"],l=[];return(0,u._2)(null===ie||void 0===ie?void 0:ie.schedule).map((function(a){var i;null!==ie&&void 0!==ie&&null!==(i=ie.schedule[a])&&void 0!==i&&i.active&&l.push(e[a])})),{activesDays:l.join(", "),hasAlert:l.length<7}},re=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(){var l,a,n,o,r,d,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(2),(a=(0,s.Z)({},null===(l=(0,u.bh)((0,u.hQ)()))||void 0===l?void 0:l.scan_grb_flx)).params={flexId:ee,":search0":"success"},n=(0,u.I7)(a),e.next=6,n;case 6:(o=e.sent)&&!o.error&&(r={},d=(0,u.Ei)(),(0,u._2)(o).map((function(e){var l=o[e];10===l.startTime.toString().length&&(l.startTime=1e3*l.startTime,l.endTime=1e3*l.endTime);var a=(0,u.qt)(l.startTime),i=a.stWk+"_"+a.endWk;r[i]||(r[i]={blocks:{},total:0}),r[i].blocks[l.startTime]||(r[i].blocks[l.startTime]={}),r[i].blocks[l.startTime]=l,"9"!==l.isRejected&&l.endTime<d&&(r[i].total+=1*l.pay)})),(0,u.Rz)("blockWkList",r),c=(0,u.bh)("blockWkList")?(0,u._2)(r).sort().reverse():[],(0,u.Rz)("blockWkSorted",c),D((0,u.M5)()));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){(null===ie||void 0===ie?void 0:ie.puzzleNeedBeSolved)&&(null===ie||void 0===ie?void 0:ie.puzzleUrl)&&window.open(null===ie||void 0===ie?void 0:ie.puzzleUrl)},ce=function(){(0,m.K1)(ee,{running:!0,allowGrabbing:!0,puzzleNeedBeSolved:!1})},te={1:{color:"limegreen",msg:"Velocidad decente ( 5~7 sec )"},2:{color:"yellow",msg:"Velocidad Discreta ( 2.8~3.3 sec )"},3:{color:"orange_clown_fish",msg:"Velocidad agresiva ( 1.3~1.7 sec )"},4:{color:"red_orangered",msg:"Peligro estas al reventar la cuenta"}};return null!==ie&&void 0!==ie&&ie.email?(0,k.jsxs)("div",{style:{width:"100%"},children:[(0,k.jsxs)("div",{className:"ebEwoI",children:[(0,k.jsx)("div",{className:"jKZvHt ",children:(0,k.jsx)(v.OL,{className:"",to:"/",children:(0,k.jsx)("div",{className:" header_mobile ",children:(0,k.jsx)(S,{name:"arrowBack",color:"#AAABC5",size:28})})})}),(0,k.jsxs)("div",{className:"_dsplFlx ",children:[X?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"_dsplFlx centerBx",children:(0,k.jsx)(y,{init:(0,u.bh)("user2Show"),lbl_empty:"Users",list:(0,u.bh)("usersGbList")||[],onSelect:function(e){return l=e.id,(0,u.Rz)("user2Show",l),(0,u.Rz)("blockWkList",null),void(1===O?D((0,u.M5)()):H(1));var l},background:"var(--dark-900)",color:"var(--light-200)",direction:"right",width:"290px"})})}):(0,k.jsx)("div",{className:"_dsplFlx centerBx",children:null===ie||void 0===ie?void 0:ie.email}),null!==(C=(0,u.bh)((0,u.nc)()))&&void 0!==C&&C.isAdmin?(0,k.jsx)("div",{className:"_dsplFlx centerBx",style:{marginLeft:15},children:(0,k.jsx)(N,{initvalue:Y,keyCode:89,updChange:Q,color:"#30BEFF"})}):null]})]}),(0,k.jsx)("div",{className:"card_wrpp",style:{marginTop:90},children:(0,k.jsx)(x.he,{title:(0,k.jsx)("div",{className:"_dsplFlx  ",children:null!==ie&&void 0!==ie&&ie.puzzleNeedBeSolved?(0,k.jsx)("div",{className:"lh-default indianred",style:{marginBottom:20},children:(0,k.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:function(){var e={zIndex:480,props:{minHeight:"1vh",overlay:!0}};e.content=(0,k.jsx)(f.Z,{confirm:ce,openUrl:de}),(0,b.OpenModal)(e)},children:(0,k.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,k.jsx)(S,{name:"puzzle-outline",color:"var(--lighten-color)",size:20}),"Necesita Resolver el Rompecabeza"]})})}):(0,k.jsx)("div",{className:"lh-default hrm_themecolor limegreen ",style:{marginBottom:20},children:(0,k.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:function(){X&&(0,m.K1)(ee,{isValidToken:!(null!==ie&&void 0!==ie&&ie.isValidToken)})},children:(0,k.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,k.jsx)(S,{name:"thumb_up_ntflx",color:"var(--lighten-color)",size:20}),"Todo funcionando bien"]})})})}),description:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"_dsplFlx information_detail ",style:{minWidth:320}}),(0,k.jsxs)("div",{className:"_dsplFlx information_detail ".concat(null!==ie&&void 0!==ie&&ie.puzzleNeedBeSolved?"indianred hrm_themecolor ":"","  "),children:[(0,k.jsx)("div",{children:(0,k.jsx)("div",{style:{width:"20px"},children:(0,k.jsxs)("svg",{"aria-label":"currently running",width:"100%",height:"100%",fill:"none",viewBox:"0 0 16 16",className:null!==ie&&void 0!==ie&&ie.running?"anim-rotate":"",xmlns:"http://www.w3.org/2000/svg",children:[(0,k.jsx)("path",{stroke:null!==ie&&void 0!==ie&&ie.puzzleNeedBeSolved?"var(--lighten-color)":"#60EF40",strokeWidth:"2",d:"M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z",opacity:".5"}),(0,k.jsx)("path",{fill:null!==ie&&void 0!==ie&&ie.puzzleNeedBeSolved?"var(--lighten-color)":"#60EF40",fillRule:"evenodd",d:"M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",clipRule:"evenodd"}),(0,k.jsx)("path",{fill:null!==ie&&void 0!==ie&&ie.puzzleNeedBeSolved?"var(--lighten-color)":"#60EF40",d:"M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"})]})})}),(0,k.jsx)("span",{className:"checklabel",children:"Activo"}),(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)(N,{initvalue:!(null===ie||void 0===ie||!ie.running),keyCode:89,updChange:function(e){return le("running",e)},color:"var(--primary-blue--backg-30)"})]}),(0,k.jsxs)("div",{className:"_dsplFlx information_detail ",style:{margin:"13px 0"},children:[(0,k.jsx)("div",{children:(0,k.jsx)(S,{name:"open_package_file_outline",color:"#AAABC5",size:20})}),(0,k.jsx)("span",{className:"checklabel",children:"Aceptar Bloques"}),(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)(N,{initvalue:!(null===ie||void 0===ie||!ie.allowGrabbing),keyCode:89,updChange:function(e){return le("allowGrabbing",e)},color:"var(--primary-blue--backg-30)"})]}),(0,k.jsxs)("div",{className:"_dsplFlx information_detail ",style:{margin:"13px 0"},onClick:function(e,l){var a=null!==ie&&void 0!==ie&&ie.schedule?(0,u._2)(ie.schedule).sort():[],i={zIndex:480,props:{minHeight:"1vh",overlay:!0}};i.content=(0,k.jsx)(j.Z,{confirm:ae,sortedSch:a,schedule:null===ie||void 0===ie?void 0:ie.schedule,updFb:se,email:null===ie||void 0===ie?void 0:ie.email}),(0,b.OpenModal)(i)},children:[(0,k.jsx)("div",{children:(0,k.jsx)(S,{name:"calendar",color:"#AAABC5",size:20})}),(0,k.jsx)("span",{className:"checklabel",children:"Horarios"}),(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)("span",{className:"checklabel",children:null===(A=oe())||void 0===A?void 0:A.activesDays}),null!==(T=oe())&&void 0!==T&&T.hasAlert?(0,k.jsx)("div",{style:{marginLeft:7},children:(0,k.jsx)(S,{name:"alert",color:"#DBAB0A",size:20})}):null]}),null!==ie&&void 0!==ie&&ie.showManualSpeedMode?(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"_dsplFlx information_detail ",children:[(0,k.jsx)("div",{children:(0,k.jsx)(S,{name:"car-shift-pattern",color:"#AAABC5",size:20})}),(0,k.jsx)("span",{className:"checklabel",children:"Velocidad Manual"}),(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)(N,{initvalue:null===ie||void 0===ie||!ie.turtleMode,keyCode:89,updChange:function(e){return function(e){(0,m.K1)(ee,{turtleMode:e,manualSpeedMode:1})}(!e)},color:"var(--primary-blue--backg-30)"})]}),null!==ie&&void 0!==ie&&ie.turtleMode?null:(0,k.jsxs)("div",{children:[null!==ie&&void 0!==ie&&ie.manualSpeedMode?(0,k.jsx)("div",{className:"lh-default hrm_themecolor ".concat(null===(Z=te[null===ie||void 0===ie?void 0:ie.manualSpeedMode])||void 0===Z?void 0:Z.color," "),style:{margin:"14px 2px"},children:(0,k.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",children:(0,k.jsx)("div",{className:"_dsplFlx keyToken ",children:(0,k.jsx)("p",{className:"xSWrp ",children:null===(I=te[null===ie||void 0===ie?void 0:ie.manualSpeedMode])||void 0===I?void 0:I.msg})})})}):null,(0,k.jsxs)("div",{className:"_dsplFlx ",style:{padding:"7px 2px"},children:[(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)("div",{className:" payments hrm_themecolor ".concat(4===(null===ie||void 0===ie?void 0:ie.manualSpeedMode)?null===(L=te[null===ie||void 0===ie?void 0:ie.manualSpeedMode])||void 0===L?void 0:L.color:"lightgrey"),onClick:function(){return le("manualSpeedMode",4)},children:(0,k.jsx)(S,{name:"lightning_bolt_outline",size:22,color:"var(--lighten-color)"})}),(0,k.jsx)("div",{className:"flexSpace"}),"|",(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)("div",{className:" payments hrm_themecolor ".concat(3===(null===ie||void 0===ie?void 0:ie.manualSpeedMode)?null===(W=te[null===ie||void 0===ie?void 0:ie.manualSpeedMode])||void 0===W?void 0:W.color:"lightgrey"),onClick:function(){return le("manualSpeedMode",3)},children:(0,k.jsx)(S,{name:"airplane",size:22,color:"var(--lighten-color)"})}),(0,k.jsx)("div",{className:"flexSpace"}),"|",(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)("div",{className:" payments hrm_themecolor ".concat(2===(null===ie||void 0===ie?void 0:ie.manualSpeedMode)?null===(R=te[null===ie||void 0===ie?void 0:ie.manualSpeedMode])||void 0===R?void 0:R.color:"lightgrey"),onClick:function(){return le("manualSpeedMode",2)},children:(0,k.jsx)(S,{name:"car-hatchback",size:22,color:"var(--lighten-color)"})}),(0,k.jsx)("div",{className:"flexSpace"}),"|",(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)("div",{className:" payments hrm_themecolor ".concat(1===(null===ie||void 0===ie?void 0:ie.manualSpeedMode)?null===(V=te[null===ie||void 0===ie?void 0:ie.manualSpeedMode])||void 0===V?void 0:V.color:"lightgrey"),onClick:function(){return le("manualSpeedMode",1)},children:(0,k.jsx)(S,{name:"moped",size:22,color:"var(--lighten-color)"})}),(0,k.jsx)("div",{className:"flexSpace"})]}),(0,k.jsx)("div",{className:"lh-default hrm_themecolor indianred darkred",style:{margin:"14px 2px"},children:(0,k.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",children:(0,k.jsx)("div",{className:"_dsplFlx keyToken ",children:(0,k.jsx)("p",{className:"xSWrp ",children:"Acelerar las peticiones puede causar errores y verificaciones de la cuenta por parte de amazon, el uso de esta opcion es totalmente bajo su responsabilidad"})})})})]})]}):null]})})}),(0,k.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",style:{padding:9},children:[(0,k.jsx)("div",{className:"lh-default blue_30",style:{margin:"20px 0"},children:(0,k.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:function(){return H(1)},children:(0,k.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,k.jsx)(S,{name:"market",color:"#30BEFF",size:20}),"Estaciones"]})})}),(0,k.jsx)("div",{className:"lh-default hrm_themecolor darkcyan_green",style:{marginTop:20},children:(0,k.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:re,children:(0,k.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,k.jsx)(S,{name:"open_package_file_outline",color:"var(--lighten-color)",size:20}),"Bloques"]})})})]}),(0,k.jsx)("div",{className:"_dsplFlx spaceAround flxWrp",style:{padding:9},children:null!==ie&&void 0!==ie&&ie.showAvailablesBlocks?(0,k.jsx)("div",{className:"lh-default hrm_themecolor yellow",style:{marginTop:2},children:(0,k.jsx)("div",{className:"IssueLabel hrm_labelColor hrm_label_14lh",onClick:function(){H(3),setTimeout((0,n.Z)((0,i.Z)().mark((function e(){var l,a,n,o,r,d,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=(0,s.Z)({},null===(l=(0,u.bh)((0,u.hQ)()))||void 0===l?void 0:l.grb_ava_tmSt_flx)).params={date:F(),":search0":"available",":search1":ee},n=(0,u.I7)(a),e.next=5,n;case 5:(o=e.sent)&&!o.error&&((0,u.Rz)("availableBlocksList",o),r=(0,u._2)(o).sort().reverse(),d={},c={},r.map((function(e){var l=e.split("_"),a=1*l[3]/l[4]*1,i=new Date(1e3*l[0]),s=(0,u.kj)(i);d[s]||(d[s]=[]),d[s].push(e),c[s]||(c[s]=[]),a>18&&c[s].push(e)})),(0,u.Rz)("availableBlocksPriceIncrease",c),(0,u.Rz)("availableBlocksGroupsSorted",d),D((0,u.M5)()));case 7:case"end":return e.stop()}}),e)}))),320)},children:(0,k.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,k.jsx)(S,{name:"open_package_file_outline",color:"var(--lighten-color)",size:20}),"Bloques Disponibles"]})})}):null}),(0,k.jsx)(w,{viewId:1,activeView:O,children:ne&&ne.map((function(e){var l,a;return(0,k.jsx)(p.Z,{icon:"market",data:null===(l=ie.filters)||void 0===l?void 0:l[e],advanceFilters:null===(a=ie.advanceFilters)||void 0===a?void 0:a[e],sA:e,updSArea:function(l){return function(e,l){var a=null===ie||void 0===ie?void 0:ie.filters;a[l]=Object.assign({},a[l],e),(0,m.K1)(ee,{filters:a})}(l,e)},updAdvFlt:function(l){return function(e,l){var a=(null===ie||void 0===ie?void 0:ie.advanceFilters)||{};a[l]=Object.assign({},a[l],e),(0,m.Fv)(ee,"advanceFilters"),(0,m.K1)(ee,{advanceFilters:a})}(l,e)}},e)}))}),(0,k.jsx)(w,{viewId:2,activeView:O,children:(0,u.bh)("blockWkList")&&(0,u.bh)("blockWkSorted").map((function(e){var l,a,i,s,n=1*e.split("_")[0],o=1*e.split("_")[1]-867e5,r=null===(l=(0,u.bh)("blockWkList"))||void 0===l||null===(a=l[e])||void 0===a?void 0:a.blocks;return(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"_dsplFlx keyToken ",children:[(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsx)("div",{className:"lh-default ",children:(0,u.sG)(n)+" - "+(0,u.sG)(o)}),(0,k.jsx)("div",{className:"flexSpace"}),(0,k.jsxs)("div",{className:" payments hrm_themecolor darkcyan_green centerBx",children:[(0,k.jsx)(S,{name:"money",size:22,color:"var(--lighten-color)"}),(0,k.jsxs)("span",{className:"total_week",children:["$",(null===(i=(0,u.bh)("blockWkList"))||void 0===i||null===(s=i[e])||void 0===s?void 0:s.total).toFixed(2)]})]}),(0,k.jsx)("div",{className:"flexSpace"})]}),(0,k.jsx)(g.Z,{refresh:re,cId:ee,blocks:r,wK:e})]},e)}))}),(0,k.jsx)(w,{viewId:3,activeView:O,children:(0,k.jsx)(_.Z,{cId:ee})}),(0,k.jsx)("div",{className:"_dsplFlx ",style:{padding:9,marginBottom:149}})]}):(0,k.jsx)("div",{className:"loading_app centerBx",children:(0,k.jsx)(z,{stroke:"var(--primary-blue--backg-30)",size:94,strokeW:3})})};var w=function(e){var l=e.viewId,a=e.activeView,i=e.children;return(0,k.jsx)("div",{className:"opacityView",style:{opacity:l===a?1:0,marginTop:29},children:l===a?i:null})};function F(e){var l=e||new Date,a=l.getMonth()+1,i=l.getDate();return"".concat(l.getFullYear(),"_").concat(a>9?a:"0"+a,"_").concat(i>9?i:"0"+i)}var M=function(e,l){return e&&e.sort((function(e,a){var i=l(e),s=l(a);return i<s?1:i>s?-1:0}))}}}]);
//# sourceMappingURL=781.ac399253.chunk.js.map
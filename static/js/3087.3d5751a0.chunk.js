"use strict";(self.webpackChunkgrabber_hrm=self.webpackChunkgrabber_hrm||[]).push([[3087],{6349:function(e,t,n){var r=n(9760),i=n(2647),a=n(2350),s=n(184),l=(0,i.LA)();t.Z=function(e){var t=e.init,n=e.label,i=e.updDate,d=function(e){i(e.initDate+800)};return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"label",children:n||"Fecha"}),(0,s.jsx)("div",{className:"date2Upd",onClick:function(){var e={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,s.jsx)(l,{onConfirm:d,init:t}),(0,r.OpenModal)(e)},children:t?(0,a.sG)(t):(0,a.sG)((new Date).getTime())})]})}},3087:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(4165),i=n(1413),a=n(5861),s=n(9439),l=n(2791),d=n(9760),c=n(2647),o=n(2350),u=n(6349),h=n(6963),p=n(4e3),f=n(1479);function v(e,t,n){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)((0,r.Z)().mark((function e(t,n,i){var a,s,l,d,c,u,v,m,b,x,_,g,y,j,w,N,D;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(null===(a=(0,o.bh)("print_structure"))||void 0===a?void 0:a.dl_trns_struct_print)||[],l=(0,o._I)(s),(0,o._2)(t).map((function(e){l[e]&&t[e]?l[e].text=t[e]:delete l[e]})),"https://www.hrmfinance.com/data/94_197.pdf",e.next=6,fetch("https://www.hrmfinance.com/data/94_197.pdf").then((function(e){return e.arrayBuffer()}));case 6:return d=e.sent,e.next=9,h.PDFDocument.load(d,{ignoreEncryption:!0});case 9:return(c=e.sent).registerFontkit(p.Z),e.next=13,(0,f.h2)(c);case 13:if(u=e.sent,v=u.gSans,m=(0,o.bh)("b64_signature"),b=null,!m){e.next=24;break}return e.next=20,fetch(m).then((function(e){return e.arrayBuffer()}));case 20:return x=e.sent,e.next=23,c.embedPng(x);case 23:b=e.sent;case 24:if(_=c.getPages(),g=_[0],y=g.getSize(),j=y.width,w=y.height,(0,o.Rz)("pdfSize",{width:j,height:w,pages:_.length}),i&&l&&(0,o._2)(l).map((function(e){var t=l[e];if(t){var n,r=t.pageNo,i=null===_||void 0===_||null===(n=_[r])||void 0===n?void 0:n.getSize();if("text"===t.type){var a;null===(a=_[r])||void 0===a||a.drawText(t.text?t.text.toString():"",{x:t.x,y:i.height-t.y,size:t.size||10,font:v,color:t.color?(0,h.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,h.rgb)(0,0,0)})}else"image"===t.type&&b&&_[r].drawImage(b,{x:t.x,y:i.height-t.y,width:t.w,height:t.h})}})),c.setTitle("INTERPRETER AFFIDAVIT OF A FOREIGN CONTRY DRIVER LICENSE"),c.setAuthor("HRM finance"),c.setCreator(""),c.setCreationDate(new Date),c.setModificationDate(new Date),!n){e.next=42;break}return e.next=37,c.save();case 37:return N=e.sent,D=(0,f.ou)(N),e.abrupt("return",D);case 42:return e.abrupt("return",c.saveAsBase64({dataUri:!0}));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=n(5232),x=n(184),_=(0,c.Np)(),g=function(e){var t,n,c,h,p,f,m,g=e.data,w=(e.confirm,["dl_number","dl_issues","dl_exire","dl_type","endorsment","restriction","documentType"]),N="driver_licence_translate",D=(0,l.useState)(!1),I=(0,s.Z)(D,2),O=I[0],k=I[1],Z=(0,l.useState)(1),T=(0,s.Z)(Z,2),F=(T[0],T[1]),S=function(){F((0,o.M5)())};(0,l.useEffect)((function(){var e;if(!O)return k(!0),F((0,o.M5)()),null!==(e=(0,o.bh)("print_structure"))&&void 0!==e&&e.dl_trns_struct_print||(0,b.pw)(S),C("documentType","DLT"),function(){}}));var C=function(e,t){var n=(0,o.bh)(N)||{};n[e]=t,(0,o.Rz)(N,n),F((0,o.M5)())},A=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,s,l,d,c,u,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.bh)(N),n={},t.caseId?(l=(0,o.vy)(w,(0,o.bh)(N),(0,o.bh)(N+"_bck")),(n=(0,i.Z)({},null===(a=(0,o.bh)((0,o.hQ)()))||void 0===a?void 0:a.upd_notry_case)).params={customerId:null===(s=(0,o.bh)((0,o.Ks)()))||void 0===s?void 0:s.clientNotaryId,caseId:t.caseId},n.data2update=l.data):(t.customerId=(0,o.bh)((0,o.Ks)()).clientNotaryId,t.documentType="DLT",t.caseId=(0,o.M5)(),t.date?t.date=new Date(t.date).getTime():t.date=(new Date).getTime()+800,(n=(0,i.Z)({},null===(d=(0,o.bh)((0,o.hQ)()))||void 0===d?void 0:d.add_notry_case)).params={customerId:null===(c=(0,o.bh)((0,o.Ks)()))||void 0===c?void 0:c.clientNotaryId},n.form=t),u=(0,o.I7)(n),e.next=6,u;case 6:(h=e.sent)&&!h.error&&R();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,s,l,d,c,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.Z)({},(0,o.bh)((0,o.Ks)())),n=Object.assign({},(0,o.bh)(N),t),a=(0,o.fY)(null===t||void 0===t?void 0:t.firstName)+(0,o.fY)(null===t||void 0===t?void 0:t.middleName)+(0,o.fY)(null===t||void 0===t?void 0:t.lastName),null!==t&&void 0!==t&&t.firstName&&(n.name_jury=a,n.name=a),t.dateOfBirth&&(n.dob_p=(0,o.sJ)(t.dateOfBirth)),n.dl_issues&&(n.dl_issue_p=(0,o.IB)(n.dl_issues)),n.dl_exire&&(n.dl_exp_p=(0,o.IB)(n.dl_exire)),n.ss?n.SS=j(n.ss):n.SS="N/A",s=n.translateDate?new Date(n.translateDate):new Date,l=s.getDate(),d=s.getFullYear().toString().slice(2,4),n.inter_date=(0,o.sJ)(s.getTime()),n.day_en_jury=l,n.day_es_jury=l,n.half_year_en_jury=d,n.half_year_es_jury=d,c=s.getMonth()+1,n.month_en_jury=o.f2.en[c],n.month_es_jury=o.f2.es[c],n.ocupation="Notary",e.next=22,v(n,!0,!0);case 22:u=e.sent,window.open(u);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){(null===g||void 0===g?void 0:g.modalID)&&(0,d.CloseModal)({id:null===g||void 0===g?void 0:g.modalID})},E=(0,o.vy)(w,(0,o.bh)(N),(0,o.bh)(N+"_bck"));return(0,x.jsxs)("div",{style:{maxHeight:"80vh",width:"820px",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,x.jsxs)("div",{className:"_dsplFlx ",children:[(0,x.jsx)("p",{className:"form_title",children:"Traducion de la Licencia"}),(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"card",children:(0,x.jsx)(y,{label:"Imprimir",clickHandler:P})})]}),(0,x.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",style:{margin:"30px 0px 0 0"},children:[(0,x.jsx)(_,{init:null===(t=(0,o.bh)(N))||void 0===t?void 0:t.dl_number,label:"Numero de Licencia",width:160,updChanges:function(e){return C("dl_number",e)}}),(0,x.jsx)(u.Z,{init:null===(n=(0,o.bh)(N))||void 0===n?void 0:n.dl_issues,label:"Fecha de emicion",updDate:function(e){return C("dl_issues",e)}}),(0,x.jsx)(u.Z,{init:null===(c=(0,o.bh)(N))||void 0===c?void 0:c.dl_exire,label:"Fecha de expiracion",updDate:function(e){return C("dl_exire",e)}})]}),(0,x.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",children:[(0,x.jsx)(_,{init:null===(h=(0,o.bh)(N))||void 0===h?void 0:h.dl_type,label:"Tipo de Licencia",width:650,updChanges:function(e){return C("dl_type",e)}}),(0,x.jsx)(_,{init:null===(p=(0,o.bh)(N))||void 0===p?void 0:p.endorsment,label:"Aprobaci\xf3nes",width:650,updChanges:function(e){return C("endorsment",e)}}),(0,x.jsx)(_,{init:null===(f=(0,o.bh)(N))||void 0===f?void 0:f.restriction,label:"Restriciones",width:650,updChanges:function(e){return C("restriction",e)}})]}),(0,x.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,x.jsx)(u.Z,{init:null===(m=(0,o.bh)(N))||void 0===m?void 0:m.translateDate,label:"Fecha de la traduccion",updDate:function(e){return C("translateDate",e)}})}),(0,x.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:null!==E&&void 0!==E&&E.hasChange?(0,x.jsxs)("div",{className:"_dsplFlx ",children:[(0,x.jsx)("div",{className:"flexSpace"}),(0,x.jsx)("div",{className:"card",children:(0,x.jsx)(y,{label:"Actualizar",clickHandler:A})})]}):(0,x.jsx)("div",{className:"card"})})]})},y=function(e){var t=e.clickHandler,n=e.label;return(0,x.jsx)("div",{className:" jaqJnq_hrm1",children:(0,x.jsx)("button",{className:"gHAsFI_hrm1 dqnOfN jUrKkb",onClick:t,children:(0,x.jsx)("span",{className:" jaqJnq_hrm1",children:n})})})},j=function(e){return e?e.substring(0,3)+" - "+e.substring(3,5)+" - "+e.substring(5,9):""}},1413:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=3087.3d5751a0.chunk.js.map